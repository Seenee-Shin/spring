<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">
	<select id="getListCount" resultType="_int">
		SELECT COUNT(*) FROM BOARD WHERE STATUS_CD != 4
	</select>
	
	<select id="selectBoardList" >
		SELECT BOARD_NO, BOARD_TITLE, READ_COUNT,
    CASE WHEN SYSDATE - CREATE_DT < 1
         THEN TO_CHAR(CREATE_DT, 'HH:MI')     
         ELSE TO_CHAR(CREATE_DT, 'YYYY-MM-DD')
    END "CREATE_DT",
    MEMBER_NO, MEMBER_NM, STATUS_CD, STATUS_NM, CATEGORY_CD, CATEGORY_NM
FROM BOARD -- STATUS_CD
JOIN MEMBER USING(MEMBER_NO) -- STATUS_CD
JOIN STATUS ON(BOARD.STATUS_CD = STATUS.STATUS_CD)
JOIN CATEGORY USING(CATEGORY_CD)
WHERE STATUS_CD != 4
ORDER BY BOARD_NO DESC;
	</select>
</mapper>
